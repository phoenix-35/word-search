<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Outputs</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .output-container {
            margin-bottom: 10px; /* Adjust margin as needed */
        }

        .copy-button {
            margin-left: 10px; /* Adjust margin as needed */
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Saved Outputs</h1>
        <div id="outputsContainer"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const outputsContainer = document.getElementById('outputsContainer');

            // Retrieve the total number of pages from local storage
            const pageNumber = localStorage.getItem('pageNumber') || 1;

            // Loop through each page and create a copy button for each output
            for (let i = 1; i < pageNumber; i++) {
                const outputContainer = document.createElement('div');
                outputContainer.classList.add('output-container');

                const pageLabel = document.createElement('span');
                pageLabel.textContent = `Page ${i}`;

                const copyButton = document.createElement('button');
                copyButton.textContent = "Copy";
                copyButton.classList.add('submit-button', 'copy-button');
                copyButton.onclick = function() {
                    const outputText = localStorage.getItem(`outputText_${i}`);
                    if (outputText) {
                        navigator.clipboard.writeText(outputText)
                            .then(() => {
                                console.log('Output copied to clipboard:', outputText);
                            })
                            .catch(err => {
                                console.error('Failed to copy output to clipboard:', err);
                            });
                    }
                };

                outputContainer.appendChild(pageLabel);
                outputContainer.appendChild(copyButton);

                outputsContainer.appendChild(outputContainer);
            }
        });
    </script>
</body>

</html>
